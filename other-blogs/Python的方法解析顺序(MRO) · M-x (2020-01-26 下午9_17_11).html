<!DOCTYPE html> <html lang=en-us style><!--
 Page saved with SingleFile 
 url: https://hanjianwei.com/2013/07/25/python-mro/ 
 saved date: Sun Jan 26 2020 21:17:11 GMT+0800 (中国标准时间)
--><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="ie=edge">
<meta name=viewport content="width=device-width, initial-scale=1.0">
<title>
 
 Python的方法解析顺序(MRO) · M-x
 
 </title>
<style>html{-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{margin:.67em 0}pre{font-size:1em}a{background-color:transparent}strong{font-weight:bolder}code{font-size:1em}img{border-style:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font-size:16px;line-height:1.8;background-color:#ebebeb}@media (min-width:38em){html{font-size:18px}}@media (min-width:56em){html{font-size:20px}}h1,h3{font-weight:500}h1{font-size:1.6rem}h3{font-size:1.25rem}a{color:#268bd2;text-decoration:none}a:hover,a:focus{text-decoration:underline}header nav{font-size:1rem;font-weight:bold;background-color:#24292e}header nav a{color:#fff}main article time{color:#9a9a9a}article,aside.comments{background-color:#fff;padding:1rem 1rem;margin-top:1rem}footer{font-size:.8rem;color:silver}footer a{margin-left:.5rem;color:inherit}footer a:hover,footer a:focus{color:#505050;text-decoration:none}footer svg{width:.8rem;height:.8rem;fill:currentColor;top:.15rem;position:relative}.highlight pre{white-space:pre;overflow:auto;font-size:.8rem}@font-face{font-family:"CN Heiti";src:local("Hiragino Sans CN"),local("Heiti SC Light"),local(STHeitiSC-Light),local("Heiti SC"),local("Microsoft Yahei"),local("Noto Sans CJK SC"),local("Source Han Sans SC"),local("Source Han Sans CN"),local("Droid Sans Fallback"),local("WenQuanYi Micro Hei")}@font-face{font-family:"En Sans Serif";src:local(-apple-system),local("Helvetica Neue"),local(Helvetica),local(Arial)}@font-face{font-family:"Programming Mono";src:local("Menlo"),local("Consolas"),local("Source Code Pro"),local("Monaco")}html{font-family:"En Sans Serif","CN Heiti",sans-serif}code,pre{font-family:"Programming Mono",monospace}body{display:flex;justify-content:center}.container{width:100%}.container{max-width:28rem}@media (min-width:38em){.container{max-width:32rem}}@media (min-width:56em){.container{max-width:42rem}}header nav ul{display:flex;justify-content:flex-start;align-items:flex-start;padding:0}header nav ul li{list-style:none;padding:1rem 1rem}@media (max-width:56em){header nav ul{justify-content:flex-start}}footer{padding-top:2rem;padding-bottom:2rem}.highlight{color:#faf6e4;background-color:#122b3b}</style>
<link type=application/atom+xml rel=alternate href=http://hanjianwei.com/feed.xml title=M-x>
<link type=image/x-icon rel="shortcut icon" href="data:image/vnd.microsoft.icon;base64,AAABAAMAEBAAAAEAIABoBAAANgAAACAgAAABACAAKBEAAJ4EAAAwMAAAAQAgAGgmAADGFQAAKAAAABAAAAAgAAAAAQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO8AAAD3AAAA9wAAAPcAAAD3AAAA9wAAAPcAAAD3AAAA9wAAAPcAAAD3AAAA9wAAAPcAAAD3AAAA9wAAAPAAAAD3AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD3AAAA9wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA9wAAAPcAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPcAAAD3AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD3AAAA9wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA9wAAAPcAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPcAAAD3AAAAmgAAAKEAAAD/AAAA/wAAAP8AAADSAAAASgAAAEoAAABKAAAASgAAAEoAAADxAAAA/wAAAP8AAAD3AAAA9wAAAMwAAACAAAAAnwAAAP8AAAD/AAAA6QAAAKQAAACkAAAApAAAAKQAAACkAAAA+AAAAP8AAAD/AAAA9wAAAPcAAAD/AAAAyQAAAIIAAACgAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPcAAAD3AAAA/wAAAP8AAADKAAAAgQAAAKIAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD3AAAA9wAAAP8AAAD/AAAAzAAAAIMAAACdAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA9wAAAPcAAAD/AAAAzQAAAIQAAACcAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPcAAAD3AAAAzwAAAH8AAACdAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD3AAAA9wAAAJcAAACfAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA9wAAAO8AAAD3AAAA9wAAAPcAAAD3AAAA9wAAAPcAAAD3AAAA9wAAAPcAAAD3AAAA9wAAAPcAAAD3AAAA9wAAAO8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAABAAAAAAQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADkAAAA7wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA7wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA7wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA7wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA7wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAPMAAACUAAAAlAAAAPsAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAyQAAAJQAAACUAAAAlAAAAJQAAACUAAAAlAAAAJQAAACUAAAAlAAAAJQAAADvAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA5AAAAAAAAAAAAAAA+AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANkAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA7wAAAP8AAADrAAAASgAAAEoAAAC0AAAAsQAAAPQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAKcAAABKAAAASgAAAEoAAABKAAAASgAAAEoAAABKAAAASgAAAEoAAABKAAAA5AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAP8AAAD/AAAA/wAAAAYAAAAAAAAA2gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA/wAAAP8AAAD9AAAALAAAAC0AAAC7AAAA1AAAAPMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA7wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAACQAAAAAAAAAugAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAALQAAAAoAAAC2AAAA9AAAAPoAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD+AAAA/wAAAEUAAAAAAAAAmgAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA7wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAARAAAAAAAAACYAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAAMwAAABcAAACzAAAA6QAAAPQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAnAAAAAAAAALkAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA7wAAAP8AAAD/AAAA/wAAAP4AAAA4AAAANAAAALYAAADJAAAA7gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAP8AAAD/AAAA/wAAAAQAAAAAAAAA2gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA6gAAAFQAAABUAAAAqAAAAKoAAADyAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA7wAAAP8AAADjAAAAAAAAAAAAAAD6AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAO8AAADvAAAA/wAAAPAAAACJAAAAhgAAAPwAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA7wAAAO8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADvAAAA4AAAAO8AAADvAAAA7wAAAO8AAADvAAAA7wAAAO8AAADvAAAA7wAAAO8AAADvAAAA7wAAAO8AAADvAAAA7wAAAO8AAADvAAAA7wAAAO8AAADvAAAA7wAAAO8AAADvAAAA7wAAAO8AAADvAAAA7wAAAO8AAADvAAAA7wAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAADAAAABgAAAAAQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA5gAAAOYAAADmAAAA2AAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP0AAADmAAAA1gAAANYAAADpAAAA/gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD+AAAA3gAAANYAAADWAAAA1gAAANYAAADWAAAA1gAAANYAAADWAAAA1gAAANYAAADWAAAA1gAAANYAAADWAAAA1gAAAPQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAPgAAABwAAAAFAAAABQAAACCAAAA/AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD+AAAARgAAABQAAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAAAAUAAAAFAAAABQAAAAUAAAAFAAAAMEAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAPgAAABkAAAAAAAAAAAAAAB6AAAA/AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD+AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALwAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAPgAAAB0AAAAGwAAABsAAAB8AAAA4QAAAOIAAADsAAAA/QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD+AAAATQAAABsAAAAbAAAAGwAAABsAAAAbAAAAGwAAABsAAAAbAAAAGwAAABsAAAAbAAAAGwAAABsAAAAbAAAAGwAAAMQAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP0AAADeAAAAygAAAMoAAACGAAAANwAAADMAAAB6AAAA9AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD+AAAA1QAAAMoAAADKAAAAygAAAMoAAADKAAAAygAAAMoAAADKAAAAygAAAMoAAADKAAAAygAAAMoAAADKAAAAyQAAAPEAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACEAAAAAQAAAAAAAABaAAAA8QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP4AAACKAAAAEQAAABAAAABfAAAA4gAAAO4AAADyAAAA/QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP4AAADTAAAAqgAAAKsAAACNAAAAWAAAAFQAAAB7AAAA7QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACkAAAADQAAAAAAAAA6AAAA5QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAClAAAAEQAAAAMAAAA8AAAA4gAAAPoAAAD7AAAA/gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADVAAAAkAAAAIoAAACEAAAAegAAAHQAAACCAAAA6gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD+AAAA/gAAAP8AAADEAAAAGQAAAAAAAAAaAAAA2QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADDAAAAGQAAAAAAAAAZAAAA2AAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADWAAAAmAAAAJQAAACNAAAAbwAAAGoAAAB1AAAA5wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAClAAAAEgAAAAUAAABAAAAA4gAAAPkAAAD5AAAA/QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAClAAAADgAAAAAAAAA6AAAA5QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP4AAADaAAAAtAAAALQAAACRAAAAVAAAAEoAAABxAAAA6wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP4AAACJAAAADgAAAA0AAABeAAAA5gAAAPEAAAD0AAAA/QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAACEAAAAAQAAAAAAAABaAAAA8QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP0AAADlAAAA1AAAANQAAACCAAAAKwAAACoAAAB1AAAA8wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAPcAAABsAAAAFQAAABUAAAB7AAAA6AAAAOkAAADxAAAA/QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAPgAAABjAAAAAAAAAAAAAAB6AAAA/QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAPgAAABoAAAACgAAAAgAAAB+AAAA/QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP4AAADrAAAA4QAAAN8AAADtAAAA/gAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAOMAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA5QAAAMoAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAA4wAAAOMAAADjAAAAzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="></head>
 <body>
 <div class=container>
 <header>
 <nav>
 <ul>
 <li><a href=https://hanjianwei.com/>Home</a></li>
 </ul>
 </nav>
 </header>
 <main>
 <div class=post>
 <article>
 <h1>Python的方法解析顺序(MRO)</h1>
 <time>25 Jul 2013</time>
 <p>对于支持继承的编程语言来说，其方法（属性）可能定义在当前类，也可能来自于基类，所以在方法调用时就需要对当前类和基类进行搜索以确定方法所在的位置。而搜索的顺序就是所谓的「方法解析顺序」（Method Resolution Order，或MRO）。对于只支持单继承的语言来说，MRO 一般比较简单；而对于 Python 这种支持多继承的语言来说，MRO 就复杂很多。</p>
<p>先看一个「菱形继承」的例子：</p>
<figure>
 <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuMzAuMSAoMjAxMzAyMTguMDMyMCkKIC0tPgo8IS0tIFRpdGxlOiAlMyBQYWdlczogMSAtLT4KPHN2ZyB3aWR0aD0iMTM2cHQiIGhlaWdodD0iMjIycHQiCiB2aWV3Qm94PSIwLjAwIDAuMDAgMTM2LjAwIDIyMi4wMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CjxnIGlkPSJncmFwaDAiIGNsYXNzPSJncmFwaCIgdHJhbnNmb3JtPSJzY2FsZSgxIDEpIHJvdGF0ZSgwKSB0cmFuc2xhdGUoNCAyMTgpIj4KPHRpdGxlPiUzPC90aXRsZT4KPHBvbHlnb24gZmlsbD0id2hpdGUiIHN0cm9rZT0id2hpdGUiIHBvaW50cz0iLTQsNSAtNCwtMjE4IDEzMywtMjE4IDEzMyw1IC00LDUiLz4KPCEtLSBBIC0tPgo8ZyBpZD0ibm9kZTEiIGNsYXNzPSJub2RlIj48dGl0bGU+QTwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmMmYyZjIiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMzQuNTIyOSwtMTYzLjIgMzQuNTIyOSwtMjEyLjggOTEuNDc3MSwtMjEyLjggOTEuNDc3MSwtMTYzLjIgMzQuNTIyOSwtMTYzLjIiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iNjMiIHk9Ii0xOTQuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIj5BPC90ZXh0Pgo8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIzNC41MjI5LC0xODggOTEuNDc3MSwtMTg4ICIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI2MyIgeT0iLTE3MCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIj4rIHNob3c8L3RleHQ+CjwvZz4KPCEtLSBCIC0tPgo8ZyBpZD0ibm9kZTMiIGNsYXNzPSJub2RlIj48dGl0bGU+QjwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmMmYyZjIiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMCwtODIgMCwtMTE4IDU0LC0xMTggNTQsLTgyIDAsLTgyIi8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI2LjY2ODkiIHk9Ii05NC40IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiPkI8L3RleHQ+CjwvZz4KPCEtLSBBJiM0NTsmZ3Q7QiAtLT4KPGcgaWQ9ImVkZ2UxIiBjbGFzcz0iZWRnZSI+PHRpdGxlPkEmIzQ1OyZndDtCPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTQ5LjAxNjUsLTE1My41OTVDNDMuOTIxOSwtMTQxLjQyNCAzOC4zNzQ5LC0xMjguMTczIDM0LjEyMzIsLTExOC4wMTciLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI0NS44ODIsLTE1NS4xNzEgNTIuOTcyLC0xNjMuMDQ0IDUyLjMzOTEsLTE1Mi40NjggNDUuODgyLC0xNTUuMTcxIi8+CjwvZz4KPCEtLSBDIC0tPgo8ZyBpZD0ibm9kZTIiIGNsYXNzPSJub2RlIj48dGl0bGU+QzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmMmYyZjIiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNzEuNTIyOSwtNzUuMiA3MS41MjI5LC0xMjQuOCAxMjguNDc3LC0xMjQuOCAxMjguNDc3LC03NS4yIDcxLjUyMjksLTc1LjIiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTAwIiB5PSItMTA2LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+QzwvdGV4dD4KPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNzEuNTIyOSwtMTAwIDEyOC40NzcsLTEwMCAiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTAwIiB5PSItODIiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+KyBzaG93PC90ZXh0Pgo8L2c+CjwhLS0gQSYjNDU7Jmd0O0MgLS0+CjxnIGlkPSJlZGdlMyIgY2xhc3M9ImVkZ2UiPjx0aXRsZT5BJiM0NTsmZ3Q7QzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik03Ny4zMjAxLC0xNTMuNzE2QzgxLjQ2NTEsLTE0NC4wODEgODUuOTA1NSwtMTMzLjc2IDg5Ljc0ODcsLTEyNC44MjciLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI3NC4wNDM2LC0xNTIuNDc1IDczLjMwNjYsLTE2My4wNDQgODAuNDczOCwtMTU1LjI0MiA3NC4wNDM2LC0xNTIuNDc1Ii8+CjwvZz4KPCEtLSBEIC0tPgo8ZyBpZD0ibm9kZTQiIGNsYXNzPSJub2RlIj48dGl0bGU+RDwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmMmYyZjIiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMzYsLTEgMzYsLTM3IDkwLC0zNyA5MCwtMSAzNiwtMSIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI2Mi41NTUyIiB5PSItMTMuNCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIj5EPC90ZXh0Pgo8L2c+CjwhLS0gQyYjNDU7Jmd0O0QgLS0+CjxnIGlkPSJlZGdlNCIgY2xhc3M9ImVkZ2UiPjx0aXRsZT5DJiM0NTsmZ3Q7RDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik04NC40MDgsLTY1LjcwOUM3OS44MTU2LC01NS45MDM2IDc0Ljk3OCwtNDUuNTc0NiA3MS4wNjU1LC0zNy4yMjEiLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI4MS4yODY3LC02Ny4yOTY3IDg4LjY5NzcsLTc0Ljg2ODEgODcuNjI1OSwtNjQuMzI3NiA4MS4yODY3LC02Ny4yOTY3Ii8+CjwvZz4KPCEtLSBCJiM0NTsmZ3Q7RCAtLT4KPGcgaWQ9ImVkZ2UyIiBjbGFzcz0iZWRnZSI+PHRpdGxlPkImIzQ1OyZndDtEPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTM5LjA1MzgsLTcyLjU0ODZDNDQuMzgwMywtNjAuODYgNTAuNDg5MywtNDcuNDU0MSA1NS4yMDM4LC0zNy4xMDg0Ii8+Cjxwb2x5Z29uIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMzUuNzczMywtNzEuMzA3MSAzNC44MTE1LC04MS44NTgyIDQyLjE0MzEsLTc0LjIwOTggMzUuNzczMywtNzEuMzA3MSIvPgo8L2c+CjwvZz4KPC9zdmc+Cg==" alt=菱形继承>
 <figcaption>菱形继承</figcaption>
</figure>
<p>如果 <code class="language-plaintext highlighter-rouge">x</code> 是 <code class="language-plaintext highlighter-rouge">D</code> 的一个实例，那么 <code class="language-plaintext highlighter-rouge">x.show()</code> 到底会调用哪个 <code class="language-plaintext highlighter-rouge">show</code> 方法呢？如果按照 <code class="language-plaintext highlighter-rouge">[D, B, A, C]</code> 的搜索顺序，那么 <code class="language-plaintext highlighter-rouge">x.show()</code> 会调用 <code class="language-plaintext highlighter-rouge">A.show()</code>；如果按照 <code class="language-plaintext highlighter-rouge">[D, B, C, A]</code> 的搜索顺序，那么 <code class="language-plaintext highlighter-rouge">x.show()</code> 会调用 <code class="language-plaintext highlighter-rouge">C.show()</code>。由此可见，MRO 是把类的继承关系线性化的一个过程，而线性化方式决定了程序运行过程中具体会调用哪个方法。既然如此，那什么样的 MRO 才是最合理的？Python 中又是如何实现的呢？</p>
<p>Python 至少有<a href=http://python-history.blogspot.com/2010/06/method-resolution-order.html>三种不同的 MRO</a>：</p>
<ol>
 <li>经典类（classic class）的深度遍历。</li>
 <li>Python 2.2 的新式类（new-style class）预计算。</li>
 <li>Python 2.3 的新式类的<a href=http://en.wikipedia.org/wiki/C3_linearization> C3 算法</a>。它也是 Python 3 唯一支持的方式。</li>
</ol>
<h3 id=经典类的-mro>经典类的 MRO</h3>
<p>Python 有<a href=http://wiki.python.org/moin/NewClassVsClassicClass>两种类</a>：经典类（classic class）和新式类（new-style class）。两者的不同之处在于新式类继承自 <code class="language-plaintext highlighter-rouge">object</code>。在 Python 2.1 以前，经典类是唯一可用的形式；Python 2.2 引入了新式类，使得类和内置类型更加统一；在 Python 3 中，新式类是唯一支持的类。</p>
<p>经典类采用了一种很简单的 MRO 方法：从左至右的<a href=http://en.wikipedia.org/wiki/Depth-first_search>深度优先遍历</a>。以上述「菱形继承」为例，其查找顺序为 <code class="language-plaintext highlighter-rouge">[D, B, A, C, A]</code>，如果只保留重复类的第一个则结果为 <code class="language-plaintext highlighter-rouge">[D, B, A, C]</code>。我们可以用 <code class="language-plaintext highlighter-rouge">inspect.getmro</code> 来获取类的 MRO：</p>
<pre><code class=language-pycon>&gt;&gt;&gt; import inspect
&gt;&gt;&gt; class A:
...     def show(self):
...         print "A.show()"
...
&gt;&gt;&gt; class B(A): pass
&gt;&gt;&gt; class C(A):
...     def show(self):
...         print "C.show()"
...
&gt;&gt;&gt; class D(B, C): pass
&gt;&gt;&gt; inspect.getmro(D)
(&lt;class __main__.D at 0x105f0a6d0&gt;, &lt;class __main__.B at 0x105f0a600&gt;, &lt;class __main__.A at 0x105f0a668&gt;, &lt;class __main__.C at 0x105f0a738&gt;)
&gt;&gt;&gt; x = D()
&gt;&gt;&gt; x.show()
A.show()
</code></pre>
<p>这种深度优先遍历对于简单的情况还能处理的不错，但是对于上述「菱形继承」其结果却不尽如人意：虽然 <code class="language-plaintext highlighter-rouge">C.show()</code> 是 <code class="language-plaintext highlighter-rouge">A.show()</code> 的更具体化版本（显示了更多的信息），但我们的 <code class="language-plaintext highlighter-rouge">x.show()</code> 没有调用它，而是调用了 <code class="language-plaintext highlighter-rouge">A.show()</code>。这显然不是我们希望的结果。</p>
<p>对于新式类而言，所有的类都继承自 <code class="language-plaintext highlighter-rouge">object</code>，所以「菱形继承」是非常普遍的现象，因此不可能采用这种 MRO 方式。</p>
<h3 id=python-22-的新式类-mro>Python 2.2 的新式类 MRO</h3>
<p>为解决经典类 MRO 所存在的问题，Python 2.2 针对新式类提出了一种新的 MRO 计算方式：在定义类时就计算出该类的 MRO 并将其作为类的属性。因此新式类可以直接通过 <code class="language-plaintext highlighter-rouge">__mro__</code> 属性获取类的 MRO。</p>
<p>Python 2.2 的新式类 MRO 计算方式和经典类 MRO 的计算方式非常相似：它仍然采用从左至右的深度优先遍历，但是如果遍历中出现重复的类，只保留最后一个。重新考虑上面「菱形继承」的例子，由于新式类继承自 <code class="language-plaintext highlighter-rouge">object</code> 因此类图稍有改变：</p>
<figure>
 <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuMzAuMSAoMjAxMzAyMTguMDMyMCkKIC0tPgo8IS0tIFRpdGxlOiAlMyBQYWdlczogMSAtLT4KPHN2ZyB3aWR0aD0iMTM2cHQiIGhlaWdodD0iMjk2cHQiCiB2aWV3Qm94PSIwLjAwIDAuMDAgMTM2LjAwIDI5Ni4wMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CjxnIGlkPSJncmFwaDAiIGNsYXNzPSJncmFwaCIgdHJhbnNmb3JtPSJzY2FsZSgxIDEpIHJvdGF0ZSgwKSB0cmFuc2xhdGUoNCAyOTIpIj4KPHRpdGxlPiUzPC90aXRsZT4KPHBvbHlnb24gZmlsbD0id2hpdGUiIHN0cm9rZT0id2hpdGUiIHBvaW50cz0iLTQsNSAtNCwtMjkyIDEzMywtMjkyIDEzMyw1IC00LDUiLz4KPCEtLSBBIC0tPgo8ZyBpZD0ibm9kZTEiIGNsYXNzPSJub2RlIj48dGl0bGU+QTwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmMmYyZjIiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMzQuNTIyOSwtMTYzLjIgMzQuNTIyOSwtMjEyLjggOTEuNDc3MSwtMjEyLjggOTEuNDc3MSwtMTYzLjIgMzQuNTIyOSwtMTYzLjIiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iNjMiIHk9Ii0xOTQuOCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIj5BPC90ZXh0Pgo8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIzNC41MjI5LC0xODggOTEuNDc3MSwtMTg4ICIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI2MyIgeT0iLTE3MCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIj4rIHNob3c8L3RleHQ+CjwvZz4KPCEtLSBCIC0tPgo8ZyBpZD0ibm9kZTQiIGNsYXNzPSJub2RlIj48dGl0bGU+QjwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmMmYyZjIiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMCwtODIgMCwtMTE4IDU0LC0xMTggNTQsLTgyIDAsLTgyIi8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjI2LjY2ODkiIHk9Ii05NC40IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiPkI8L3RleHQ+CjwvZz4KPCEtLSBBJiM0NTsmZ3Q7QiAtLT4KPGcgaWQ9ImVkZ2UyIiBjbGFzcz0iZWRnZSI+PHRpdGxlPkEmIzQ1OyZndDtCPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTQ5LjAxNjUsLTE1My41OTVDNDMuOTIxOSwtMTQxLjQyNCAzOC4zNzQ5LC0xMjguMTczIDM0LjEyMzIsLTExOC4wMTciLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI0NS44ODIsLTE1NS4xNzEgNTIuOTcyLC0xNjMuMDQ0IDUyLjMzOTEsLTE1Mi40NjggNDUuODgyLC0xNTUuMTcxIi8+CjwvZz4KPCEtLSBDIC0tPgo8ZyBpZD0ibm9kZTIiIGNsYXNzPSJub2RlIj48dGl0bGU+QzwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmMmYyZjIiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNzEuNTIyOSwtNzUuMiA3MS41MjI5LC0xMjQuOCAxMjguNDc3LC0xMjQuOCAxMjguNDc3LC03NS4yIDcxLjUyMjksLTc1LjIiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTAwIiB5PSItMTA2LjgiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+QzwvdGV4dD4KPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNzEuNTIyOSwtMTAwIDEyOC40NzcsLTEwMCAiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTAwIiB5PSItODIiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+KyBzaG93PC90ZXh0Pgo8L2c+CjwhLS0gQSYjNDU7Jmd0O0MgLS0+CjxnIGlkPSJlZGdlNCIgY2xhc3M9ImVkZ2UiPjx0aXRsZT5BJiM0NTsmZ3Q7QzwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik03Ny4zMjAxLC0xNTMuNzE2QzgxLjQ2NTEsLTE0NC4wODEgODUuOTA1NSwtMTMzLjc2IDg5Ljc0ODcsLTEyNC44MjciLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI3NC4wNDM2LC0xNTIuNDc1IDczLjMwNjYsLTE2My4wNDQgODAuNDczOCwtMTU1LjI0MiA3NC4wNDM2LC0xNTIuNDc1Ii8+CjwvZz4KPCEtLSBEIC0tPgo8ZyBpZD0ibm9kZTUiIGNsYXNzPSJub2RlIj48dGl0bGU+RDwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmMmYyZjIiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMzYsLTEgMzYsLTM3IDkwLC0zNyA5MCwtMSAzNiwtMSIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI2Mi41NTUyIiB5PSItMTMuNCIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIj5EPC90ZXh0Pgo8L2c+CjwhLS0gQyYjNDU7Jmd0O0QgLS0+CjxnIGlkPSJlZGdlNSIgY2xhc3M9ImVkZ2UiPjx0aXRsZT5DJiM0NTsmZ3Q7RDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik04NC40MDgsLTY1LjcwOUM3OS44MTU2LC01NS45MDM2IDc0Ljk3OCwtNDUuNTc0NiA3MS4wNjU1LC0zNy4yMjEiLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI4MS4yODY3LC02Ny4yOTY3IDg4LjY5NzcsLTc0Ljg2ODEgODcuNjI1OSwtNjQuMzI3NiA4MS4yODY3LC02Ny4yOTY3Ii8+CjwvZz4KPCEtLSBvYmplY3QgLS0+CjxnIGlkPSJub2RlMyIgY2xhc3M9Im5vZGUiPjx0aXRsZT5vYmplY3Q8L3RpdGxlPgo8cG9seWdvbiBmaWxsPSIjZjJmMmYyIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjM2LC0yNTEgMzYsLTI4NyA5MCwtMjg3IDkwLC0yNTEgMzYsLTI1MSIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI2Mi42MDM1IiB5PSItMjYzLjQiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+b2JqZWN0PC90ZXh0Pgo8L2c+CjwhLS0gb2JqZWN0JiM0NTsmZ3Q7QSAtLT4KPGcgaWQ9ImVkZ2UxIiBjbGFzcz0iZWRnZSI+PHRpdGxlPm9iamVjdCYjNDU7Jmd0O0E8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBkPSJNNjMsLTI0MC44MTZDNjMsLTIzMS43NzcgNjMsLTIyMS43ODIgNjMsLTIxMy4wMDEiLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI1OS41MDAxLC0yNDAuODU4IDYzLC0yNTAuODU4IDY2LjUwMDEsLTI0MC44NTggNTkuNTAwMSwtMjQwLjg1OCIvPgo8L2c+CjwhLS0gQiYjNDU7Jmd0O0QgLS0+CjxnIGlkPSJlZGdlMyIgY2xhc3M9ImVkZ2UiPjx0aXRsZT5CJiM0NTsmZ3Q7RDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik0zOS4wNTM4LC03Mi41NDg2QzQ0LjM4MDMsLTYwLjg2IDUwLjQ4OTMsLTQ3LjQ1NDEgNTUuMjAzOCwtMzcuMTA4NCIvPgo8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjM1Ljc3MzMsLTcxLjMwNzEgMzQuODExNSwtODEuODU4MiA0Mi4xNDMxLC03NC4yMDk4IDM1Ljc3MzMsLTcxLjMwNzEiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo=" alt=新式类菱形继承>
 <figcaption>新式类菱形继承</figcaption>
</figure>
<p>按照深度遍历，其顺序为 <code class="language-plaintext highlighter-rouge">[D, B, A, object, C, A, object]</code>，重复类只保留最后一个，因此变为 <code class="language-plaintext highlighter-rouge">[D, B, C, A, object]</code>。代码为：</p>
<pre><code class=language-pycon>&gt;&gt;&gt; class A(object):
...     def show(self):
...         print "A.show()"
...
&gt;&gt;&gt; class B(A): pass
&gt;&gt;&gt; class C(A):
...     def show(self):
...         print "C.show()"
...
&gt;&gt;&gt; class D(B, C): pass
&gt;&gt;&gt; D.__mro__
(&lt;class '__main__.D'&gt;, &lt;class '__main__.B'&gt;, &lt;class '__main__.C'&gt;, &lt;class '__main__.A'&gt;, &lt;type 'object'&gt;)
&gt;&gt;&gt; x = D()
&gt;&gt;&gt; x.show()
C.show()
</code></pre>
<p>这种 MRO 方式已经能够解决「菱形继承」问题，再让我们看个稍微复杂点的例子：</p>
<figure>
 <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdGVkIGJ5IGdyYXBodml6IHZlcnNpb24gMi4zMC4xICgyMDEzMDIxOC4wMzIwKQogLS0+Cgo8IS0tIFRpdGxlOiAlMyBQYWdlczogMSAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgd2lkdGg9IjE5NS4zMjQwNyIKICAgaGVpZ2h0PSIzNzkuOTI5MjYiCiAgIHZpZXdCb3g9IjAgMCAxNTYuMjU5MjUgMzAzLjk0MzQxIgogICBpZD0ic3ZnMiIKICAgdmVyc2lvbj0iMS4xIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ4LjIgcjk4MTkiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImNsYXNzX2NvbmZsaWN0LnN2ZyI+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTExIj4KICAgIDxyZGY6UkRGPgogICAgICA8Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+CiAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+CiAgICAgICAgPGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPgogICAgICA8L2NjOldvcms+CiAgICA8L3JkZjpSREY+CiAgPC9tZXRhZGF0YT4KICA8ZGVmcwogICAgIGlkPSJkZWZzMTA5IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDY4IgogICAgIGlkPSJuYW1lZHZpZXcxMDciCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjIuODE3OTEwNSIKICAgICBpbmtzY2FwZTpjeD0iLTEuODA2ODQyMyIKICAgICBpbmtzY2FwZTpjeT0iMTMyLjY3OTA2IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxMjgwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImdyYXBoMCIKICAgICBmaXQtbWFyZ2luLXRvcD0iMCIKICAgICBmaXQtbWFyZ2luLWxlZnQ9IjAiCiAgICAgZml0LW1hcmdpbi1yaWdodD0iMCIKICAgICBmaXQtbWFyZ2luLWJvdHRvbT0iMCIgLz4KICA8ZwogICAgIGlkPSJncmFwaDAiCiAgICAgY2xhc3M9ImdyYXBoIgogICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuNDk5OTk5LDI5OC40NDM0MSkiCiAgICAgaW5rc2NhcGU6dHJhbnNmb3JtLWNlbnRlci14PSIxMjYuMzM0NzUiCiAgICAgaW5rc2NhcGU6dHJhbnNmb3JtLWNlbnRlci15PSI2Ljc0MjU4NDgiPgogICAgPHRpdGxlCiAgICAgICBpZD0idGl0bGU1Ij4lMzwvdGl0bGU+CiAgICA8cG9seWdvbgogICAgICAgcG9pbnRzPSIxMzEsLTI2NCAxMzEsNSAtNCw1IC00LDUgLTQsLTI2NCAiCiAgICAgICBpZD0icG9seWdvbjciCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO3N0cm9rZTojZmZmZmZmIiAvPgogICAgPCEtLSBvYmplY3QgLS0+CiAgICA8ZwogICAgICAgaWQ9Im5vZGUxIgogICAgICAgY2xhc3M9Im5vZGUiPgogICAgICA8dGl0bGUKICAgICAgICAgaWQ9InRpdGxlMTAiPm9iamVjdDwvdGl0bGU+CiAgICAgIDxwb2x5Z29uCiAgICAgICAgIHBvaW50cz0iOTAsLTI1OSA5MCwtMjIzIDM2LC0yMjMgMzYsLTIyMyAzNiwtMjU5ICIKICAgICAgICAgaWQ9InBvbHlnb24xMiIKICAgICAgICAgc3R5bGU9ImZpbGw6I2YyZjJmMjtzdHJva2U6IzAwMDAwMCIgLz4KICAgICAgPHRleHQKICAgICAgICAgeD0iNjIuNjAzNSIKICAgICAgICAgeT0iLTIzNS4zOTk5OSIKICAgICAgICAgZm9udC1zaXplPSIxNC4wMCIKICAgICAgICAgaWQ9InRleHQxNCIKICAgICAgICAgc3R5bGU9ImZvbnQtc2l6ZToxNHB4O3RleHQtYW5jaG9yOm1pZGRsZTtmb250LWZhbWlseTonVGltZXMsc2VyaWYnIj5vYmplY3Q8L3RleHQ+CiAgICA8L2c+CiAgICA8IS0tIFggLS0+CiAgICA8ZwogICAgICAgaWQ9Im5vZGUyIgogICAgICAgY2xhc3M9Im5vZGUiPgogICAgICA8dGl0bGUKICAgICAgICAgaWQ9InRpdGxlMTciPlg8L3RpdGxlPgogICAgICA8cG9seWdvbgogICAgICAgICBwb2ludHM9IjU0LC0xODUgNTQsLTE0OSAwLC0xNDkgMCwtMTQ5IDAsLTE4NSAiCiAgICAgICAgIGlkPSJwb2x5Z29uMTkiCiAgICAgICAgIHN0eWxlPSJmaWxsOiNmMmYyZjI7c3Ryb2tlOiMwMDAwMDAiIC8+CiAgICAgIDx0ZXh0CiAgICAgICAgIHg9IjI2LjU1NTIwMSIKICAgICAgICAgeT0iLTE2MS4zOTk5OSIKICAgICAgICAgZm9udC1zaXplPSIxNC4wMCIKICAgICAgICAgaWQ9InRleHQyMSIKICAgICAgICAgc3R5bGU9ImZvbnQtc2l6ZToxNHB4O3RleHQtYW5jaG9yOm1pZGRsZTtmb250LWZhbWlseTonVGltZXMsc2VyaWYnIj5YPC90ZXh0PgogICAgPC9nPgogICAgPCEtLSBvYmplY3QmIzQ1OyZndDtYIC0tPgogICAgPGcKICAgICAgIGlkPSJlZGdlMSIKICAgICAgIGNsYXNzPSJlZGdlIj4KICAgICAgPHRpdGxlCiAgICAgICAgIGlkPSJ0aXRsZTI0Ij5vYmplY3QtJmd0O1g8L3RpdGxlPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDQ5Ljk1MzksLTIxMy45MDggYyAtNC43MzM4LDkuNDY4IC05Ljk2MzIsMTkuOTI3IC0xNC4yMzM2LDI4LjQ2NyIKICAgICAgICAgaWQ9InBhdGgyNiIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMCIgLz4KICAgICAgPHBvbHlnb24KICAgICAgICAgcG9pbnRzPSI0Ni44NjU4LC0yMTUuNTU4IDQ2Ljg2NTgsLTIxNS41NTggNTQuNDY4NSwtMjIyLjkzNyA1My4xMjY4LC0yMTIuNDI3ICIKICAgICAgICAgaWQ9InBvbHlnb24yOCIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMCIgLz4KICAgIDwvZz4KICAgIDwhLS0gWSAtLT4KICAgIDxnCiAgICAgICBpZD0ibm9kZTUiCiAgICAgICBjbGFzcz0ibm9kZSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGUzMSI+WTwvdGl0bGU+CiAgICAgIDxwb2x5Z29uCiAgICAgICAgIHBvaW50cz0iMTI2LC0xODUgMTI2LC0xNDkgNzIsLTE0OSA3MiwtMTQ5IDcyLC0xODUgIgogICAgICAgICBpZD0icG9seWdvbjMzIgogICAgICAgICBzdHlsZT0iZmlsbDojZjJmMmYyO3N0cm9rZTojMDAwMDAwIiAvPgogICAgICA8dGV4dAogICAgICAgICB4PSI5OC41NTUxOTkiCiAgICAgICAgIHk9Ii0xNjEuMzk5OTkiCiAgICAgICAgIGZvbnQtc2l6ZT0iMTQuMDAiCiAgICAgICAgIGlkPSJ0ZXh0MzUiCiAgICAgICAgIHN0eWxlPSJmb250LXNpemU6MTRweDt0ZXh0LWFuY2hvcjptaWRkbGU7Zm9udC1mYW1pbHk6J1RpbWVzLHNlcmlmJyI+WTwvdGV4dD4KICAgIDwvZz4KICAgIDwhLS0gb2JqZWN0JiM0NTsmZ3Q7WSAtLT4KICAgIDxnCiAgICAgICBpZD0iZWRnZTQiCiAgICAgICBjbGFzcz0iZWRnZSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGUzOCI+b2JqZWN0LSZndDtZPC90aXRsZT4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSA3Ni4wNDYxLC0yMTMuOTA4IGMgNC43MzM4LDkuNDY4IDkuOTYzMiwxOS45MjcgMTQuMjMzNiwyOC40NjciCiAgICAgICAgIGlkPSJwYXRoNDAiCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDAiIC8+CiAgICAgIDxwb2x5Z29uCiAgICAgICAgIHBvaW50cz0iNzIuODczMiwtMjEyLjQyNyA3Mi44NzMyLC0yMTIuNDI3IDcxLjUzMTUsLTIyMi45MzcgNzkuMTM0MiwtMjE1LjU1OCAiCiAgICAgICAgIGlkPSJwb2x5Z29uNDIiCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDAiIC8+CiAgICA8L2c+CiAgICA8IS0tIEEgLS0+CiAgICA8ZwogICAgICAgaWQ9Im5vZGUzIgogICAgICAgY2xhc3M9Im5vZGUiPgogICAgICA8dGl0bGUKICAgICAgICAgaWQ9InRpdGxlNDUiPkE8L3RpdGxlPgogICAgICA8cG9seWdvbgogICAgICAgICBwb2ludHM9IjU0LC0xMTEgNTQsLTc1IDAsLTc1IDAsLTc1IDAsLTExMSAiCiAgICAgICAgIGlkPSJwb2x5Z29uNDciCiAgICAgICAgIHN0eWxlPSJmaWxsOiNmMmYyZjI7c3Ryb2tlOiMwMDAwMDAiIC8+CiAgICAgIDx0ZXh0CiAgICAgICAgIHg9IjI2LjU1NTIwMSIKICAgICAgICAgeT0iLTg3LjQwMDAwMiIKICAgICAgICAgZm9udC1zaXplPSIxNC4wMCIKICAgICAgICAgaWQ9InRleHQ0OSIKICAgICAgICAgc3R5bGU9ImZvbnQtc2l6ZToxNHB4O3RleHQtYW5jaG9yOm1pZGRsZTtmb250LWZhbWlseTonVGltZXMsc2VyaWYnIj5BPC90ZXh0PgogICAgPC9nPgogICAgPCEtLSBYJiM0NTsmZ3Q7QSAtLT4KICAgIDxnCiAgICAgICBpZD0iZWRnZTIiCiAgICAgICBjbGFzcz0iZWRnZSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGU1MiI+WC0mZ3Q7QTwvdGl0bGU+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMjcsLTEzOC43MTkgYyAwLDkuMTQ3IDAsMTkuMDk0IDAsMjcuMjc4IgogICAgICAgICBpZD0icGF0aDU0IgogICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwIiAvPgogICAgICA8cG9seWdvbgogICAgICAgICBwb2ludHM9IjIzLjUwMDEsLTEzOC45MzcgMjMuNTAwMSwtMTM4LjkzNyAyNywtMTQ4LjkzNyAzMC41MDAxLC0xMzguOTM3ICIKICAgICAgICAgaWQ9InBvbHlnb241NiIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMCIgLz4KICAgIDwvZz4KICAgIDwhLS0gQiAtLT4KICAgIDxnCiAgICAgICBpZD0ibm9kZTYiCiAgICAgICBjbGFzcz0ibm9kZSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGU1OSI+QjwvdGl0bGU+CiAgICAgIDxwb2x5Z29uCiAgICAgICAgIHBvaW50cz0iMTI2LC0xMTEgMTI2LC03NSA3MiwtNzUgNzIsLTc1IDcyLC0xMTEgIgogICAgICAgICBpZD0icG9seWdvbjYxIgogICAgICAgICBzdHlsZT0iZmlsbDojZjJmMmYyO3N0cm9rZTojMDAwMDAwIiAvPgogICAgICA8dGV4dAogICAgICAgICB4PSI5OC42Njg5IgogICAgICAgICB5PSItODcuNDAwMDAyIgogICAgICAgICBmb250LXNpemU9IjE0LjAwIgogICAgICAgICBpZD0idGV4dDYzIgogICAgICAgICBzdHlsZT0iZm9udC1zaXplOjE0cHg7dGV4dC1hbmNob3I6bWlkZGxlO2ZvbnQtZmFtaWx5OidUaW1lcyxzZXJpZiciPkI8L3RleHQ+CiAgICA8L2c+CiAgICA8IS0tIFgmIzQ1OyZndDtCIC0tPgogICAgPCEtLSBaIC0tPgogICAgPGcKICAgICAgIGlkPSJub2RlNCIKICAgICAgIGNsYXNzPSJub2RlIj4KICAgICAgPHRpdGxlCiAgICAgICAgIGlkPSJ0aXRsZTczIj5aPC90aXRsZT4KICAgICAgPHBvbHlnb24KICAgICAgICAgcG9pbnRzPSI5MCwtMzcgOTAsLTEgMzYsLTEgMzYsLTEgMzYsLTM3ICIKICAgICAgICAgaWQ9InBvbHlnb243NSIKICAgICAgICAgc3R5bGU9ImZpbGw6I2YyZjJmMjtzdHJva2U6IzAwMDAwMCIgLz4KICAgICAgPHRleHQKICAgICAgICAgeD0iNjIuNzc1OTAyIgogICAgICAgICB5PSItMTMuNCIKICAgICAgICAgZm9udC1zaXplPSIxNC4wMCIKICAgICAgICAgaWQ9InRleHQ3NyIKICAgICAgICAgc3R5bGU9ImZvbnQtc2l6ZToxNHB4O3RleHQtYW5jaG9yOm1pZGRsZTtmb250LWZhbWlseTonVGltZXMsc2VyaWYnIj5DPC90ZXh0PgogICAgPC9nPgogICAgPCEtLSBBJiM0NTsmZ3Q7WiAtLT4KICAgIDxnCiAgICAgICBpZD0iZWRnZTMiCiAgICAgICBjbGFzcz0iZWRnZSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGU4MCI+QS0mZ3Q7WjwvdGl0bGU+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gNDAuMDQ2MSwtNjUuOTA3NyBjIDQuNzMzOCw5LjQ2NzUgOS45NjMyLDE5LjkyNjQgMTQuMjMzNiwyOC40NjciCiAgICAgICAgIGlkPSJwYXRoODIiCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDAiIC8+CiAgICAgIDxwb2x5Z29uCiAgICAgICAgIHBvaW50cz0iMzYuODczMiwtNjQuNDI3NSAzNi44NzMyLC02NC40Mjc1IDM1LjUzMTUsLTc0LjkzNyA0My4xMzQyLC02Ny41NTggIgogICAgICAgICBpZD0icG9seWdvbjg0IgogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwIiAvPgogICAgPC9nPgogICAgPCEtLSBZJiM0NTsmZ3Q7QiAtLT4KICAgIDxnCiAgICAgICBpZD0iZWRnZTUiCiAgICAgICBjbGFzcz0iZWRnZSI+CiAgICAgIDx0aXRsZQogICAgICAgICBpZD0idGl0bGU4NyI+WS0mZ3Q7QjwvdGl0bGU+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gOTksLTEzOC43MTkgYyAwLDkuMTQ3IDAsMTkuMDk0IDAsMjcuMjc4IgogICAgICAgICBpZD0icGF0aDg5IgogICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwIiAvPgogICAgICA8cG9seWdvbgogICAgICAgICBwb2ludHM9Ijk1LjUwMDEsLTEzOC45MzcgOTUuNTAwMSwtMTM4LjkzNyA5OSwtMTQ4LjkzNyAxMDIuNSwtMTM4LjkzNyAiCiAgICAgICAgIGlkPSJwb2x5Z29uOTEiCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDAiIC8+CiAgICA8L2c+CiAgICA8IS0tIFkmIzQ1OyZndDtBIC0tPgogICAgPGcKICAgICAgIGlkPSJlZGdlOCIKICAgICAgIGNsYXNzPSJlZGdlIj4KICAgICAgPHRpdGxlCiAgICAgICAgIGlkPSJ0aXRsZTk0Ij5ZLSZndDtBPC90aXRsZT4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSA3NC42NzA2LC0xNDEuNjcxIGMgLTkuOTE1NSw5LjkxNiAtMjEuMTU1NSwyMS4xNTYgLTMwLjIyOTksMzAuMjMiCiAgICAgICAgIGlkPSJwYXRoOTYiCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDAiIC8+CiAgICAgIDxwb2x5Z29uCiAgICAgICAgIHBvaW50cz0iNzIuMzkxLC0xNDQuMzQxIDcyLjM5MSwtMTQ0LjM0MSA4MS45MzcsLTE0OC45MzcgNzcuMzQwOCwtMTM5LjM5MSAiCiAgICAgICAgIGlkPSJwb2x5Z29uOTgiCiAgICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDAiIC8+CiAgICA8L2c+CiAgICA8IS0tIEImIzQ1OyZndDtaIC0tPgogICAgPGcKICAgICAgIGlkPSJlZGdlNiIKICAgICAgIGNsYXNzPSJlZGdlIj4KICAgICAgPHRpdGxlCiAgICAgICAgIGlkPSJ0aXRsZTEwMSI+Qi0mZ3Q7WjwvdGl0bGU+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gODUuOTUzOSwtNjUuOTA3NyBjIC00LjczMzgsOS40Njc1IC05Ljk2MzIsMTkuOTI2NCAtMTQuMjMzNiwyOC40NjciCiAgICAgICAgIGlkPSJwYXRoMTAzIgogICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwIiAvPgogICAgICA8cG9seWdvbgogICAgICAgICBwb2ludHM9IjgyLjg2NTgsLTY3LjU1OCA4Mi44NjU4LC02Ny41NTggOTAuNDY4NSwtNzQuOTM3IDg5LjEyNjgsLTY0LjQyNzUgIgogICAgICAgICBpZD0icG9seWdvbjEwNSIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMCIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwIgogICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgIGQ9Im0gMTQuNTA0MTUzLC0xOTYuMTkzNzMgYyAtMC45NDI2ODksLTE5NC4zODcxOCAyMzIuMzQxODA3LC03OS4wOTA4OCA5MS42MDczMjcsODUuNzk4MjUiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIgogICAgICAgaWQ9InBhdGg2MSIgLz4KICAgIDxwb2x5Z29uCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwIgogICAgICAgaWQ9InBvbHlnb243MCIKICAgICAgIHBvaW50cz0iNTMuNjA5LC0xNDQuMzQxIDQ4LjY1OTIsLTEzOS4zOTEgNDguNjU5MiwtMTM5LjM5MSA0NC4wNjMsLTE0OC45MzcgIgogICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoLTAuNzA3MTA2NzgsLTAuNzA3MTA2NzgsMC43MDcxMDY3OCwtMC43MDcxMDY3OCwxNTAuOTQzMiwtMjYwLjUzMzYzKSIgLz4KICA8L2c+Cjwvc3ZnPgo=" alt=类型冲突>
 <figcaption>类型冲突</figcaption>
</figure>
<pre><code class=language-pycon>&gt;&gt;&gt; class X(object): pass
&gt;&gt;&gt; class Y(object): pass
&gt;&gt;&gt; class A(X, Y): pass
&gt;&gt;&gt; class B(Y, X): pass
&gt;&gt;&gt; class C(A, B): pass
</code></pre>
<p>首先进行深度遍历，结果为 <code class="language-plaintext highlighter-rouge">[C, A, X, object, Y, object, B, Y, object, X, object]</code>；然后，只保留重复元素的最后一个，结果为 <code class="language-plaintext highlighter-rouge">[C, A, B, Y, X, object]</code>。Python 2.2 在实现该方法的时候进行了调整，使其更尊重基类中类出现的顺序，其实际结果为 <code class="language-plaintext highlighter-rouge">[C, A, B, X, Y, object]</code>。</p>
<p>这样的结果是否合理呢？首先我们看下各个类中的方法解析顺序：对于 <code class="language-plaintext highlighter-rouge">A</code> 来说，其搜索顺序为 <code class="language-plaintext highlighter-rouge">[A, X, Y, object]</code>；对于 <code class="language-plaintext highlighter-rouge">B</code>，其搜索顺序为 <code class="language-plaintext highlighter-rouge">[B, Y, X, object]</code>；对于 <code class="language-plaintext highlighter-rouge">C</code>，其搜索顺序为 <code class="language-plaintext highlighter-rouge">[C, A, B, X, Y, object]</code>。我们会发现，<code class="language-plaintext highlighter-rouge">B</code> 和 <code class="language-plaintext highlighter-rouge">C</code> 中 <code class="language-plaintext highlighter-rouge">X</code>、<code class="language-plaintext highlighter-rouge">Y</code> 的搜索顺序是相反的！也就是说，当 <code class="language-plaintext highlighter-rouge">B</code> 被继承时，它本身的行为竟然也发生了改变，这很容易导致不易察觉的错误。此外，即使把 <code class="language-plaintext highlighter-rouge">C</code> 搜索顺序中 <code class="language-plaintext highlighter-rouge">X</code> 和 <code class="language-plaintext highlighter-rouge">Y</code> 互换仍然不能解决问题，这时候它又会和 <code class="language-plaintext highlighter-rouge">A</code> 中的搜索顺序相矛盾。</p>
<p>事实上，不但上述特殊情况会出现问题，在<a href=http://mail.python.org/pipermail/python-dev/2002-October/029035.html>其它情况</a>下也可能出问题。其原因在于，上述继承关系违反了线性化的「 <strong>单调性原则</strong> 」。<a href=http://www.python.org/download/releases/2.3/mro/>Michele Simionato</a>对单调性的定义为：</p>
<blockquote>
 <p>A MRO is monotonic when the following is true: if C1 precedes C2 in the linearization of C, then C1 precedes C2 in the linearization of any subclass of C. Otherwise, the innocuous operation of deriving a new class could change the resolution order of methods, potentially introducing very subtle bugs.</p>
</blockquote>
<p>也就是说，子类不能改变基类的方法搜索顺序。在 Python 2.2 的 MRO 算法中并不能保证这种单调性，它不会阻止程序员写出上述具有二义性的继承关系，因此很可能成为错误的根源。</p>
<p>除了单调性之外，Python 2.2 及 经典类的 MRO 也可能违反继承的「 <strong>局部优先级</strong> 」，具体例子可以参见<a href=http://www.python.org/download/releases/2.3/mro/#bad-method-resolution-orders>官方文档</a>。采用一种更好的 MRO 方式势在必行。</p>
<h3 id=c3-mro>C3 MRO</h3>
<p>为解决 Python 2.2 中 MRO 所存在的问题，Python 2.3以后采用了<a href=http://en.wikipedia.org/wiki/C3_linearization> C3 方法</a>来确定方法解析顺序。你如果在 Python 2.3 以后版本里输入上述代码，就会产生一个异常，禁止创建具有二义性的继承关系：</p>
<pre><code class=language-pycon>&gt;&gt;&gt; class C(A, B): pass
Traceback (most recent call last):
  File "&lt;ipython-input-8-01bae83dc806&gt;", line 1, in &lt;module&gt;
    class C(A, B): pass
TypeError: Error when calling the metaclass bases
    Cannot create a consistent method resolution
order (MRO) for bases X, Y
</code></pre>
<p>我们把类 <code class="language-plaintext highlighter-rouge">C</code> 的线性化（MRO）记为 <code class="language-plaintext highlighter-rouge">L[C] = [C1, C2,…,CN]</code>。其中 <code class="language-plaintext highlighter-rouge">C1</code> 称为 <code class="language-plaintext highlighter-rouge">L[C]</code> 的头，其余元素 <code class="language-plaintext highlighter-rouge">[C2,…,CN]</code> 称为尾。如果一个类 <code class="language-plaintext highlighter-rouge">C</code> 继承自基类 <code class="language-plaintext highlighter-rouge">B1</code>、<code class="language-plaintext highlighter-rouge">B2</code>、……、<code class="language-plaintext highlighter-rouge">BN</code>，那么我们可以根据以下两步计算出 <code class="language-plaintext highlighter-rouge">L[C]</code>：</p>
<ol>
 <li><code class="language-plaintext highlighter-rouge">L[object] = [object]</code></li>
 <li><code class="language-plaintext highlighter-rouge">L[C(B1…BN)] = [C] + merge(L[B1]…L[BN], [B1]…[BN])</code></li>
</ol>
<p>这里的关键在于 <code class="language-plaintext highlighter-rouge">merge</code>，其输入是一组列表，按照如下方式输出一个列表：</p>
<ol>
 <li>检查第一个列表的头元素（如 <code class="language-plaintext highlighter-rouge">L[B1]</code> 的头），记作 <code class="language-plaintext highlighter-rouge">H</code>。</li>
 <li>若 <code class="language-plaintext highlighter-rouge">H</code> 未出现在其它列表的尾部，则将其输出，并将其从所有列表中删除，然后回到步骤1；否则，取出下一个列表的头部记作 <code class="language-plaintext highlighter-rouge">H</code>，继续该步骤。</li>
 <li>重复上述步骤，直至列表为空或者不能再找出可以输出的元素。如果是前一种情况，则算法结束；如果是后一种情况，说明无法构建继承关系，Python 会抛出异常。</li>
</ol>
<p>该方法有点类似于图的<a href=http://en.wikipedia.org/wiki/Topological_sorting>拓扑排序</a>，但它同时还考虑了基类的出现顺序。我们用 C3 分析一下刚才的例子。</p>
<p><code class="language-plaintext highlighter-rouge">object</code>，<code class="language-plaintext highlighter-rouge">X</code>，<code class="language-plaintext highlighter-rouge">Y</code> 的线性化结果比较简单：</p>
<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>L[object] = [object]
L[X] = [X, object]
L[Y] = [Y, object]
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">A</code> 的线性化计算如下：</p>
<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>L[A] = [A] + merge(L[X], L[Y], [X], [Y])
     = [A] + merge([X, object], [Y, object], [X], [Y])
     = [A, X] + merge([object], [Y, object], [Y])
     = [A, X, Y] + merge([object], [object])
     = [A, X, Y, object]
</code></pre></div></div>
<p>注意第3步，<code class="language-plaintext highlighter-rouge">merge([object], [Y, object], [Y])</code> 中首先输出的是 <code class="language-plaintext highlighter-rouge">Y</code> 而不是 <code class="language-plaintext highlighter-rouge">object</code>。这是因为 <code class="language-plaintext highlighter-rouge">object</code> 虽然是第一个列表的头，但是它出现在了第二个列表的尾部。所以我们会跳过第一个列表，去检查第二个列表的头部，也就是 <code class="language-plaintext highlighter-rouge">Y</code>。<code class="language-plaintext highlighter-rouge">Y</code> 没有出现在其它列表的尾部，所以将其输出。</p>
<p>同理，<code class="language-plaintext highlighter-rouge">B</code> 的线性化结果为：</p>
<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>L[B] = [B, Y, X, object]
</code></pre></div></div>
<p>最后，我们看看 <code class="language-plaintext highlighter-rouge">C</code> 的线性化结果：</p>
<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>L[C] = [C] + merge(L[A], L[B], [A], [B])
     = [C] + merge([A, X, Y, object], [B, Y, X, object], [A], [B])
     = [C, A] + merge([X, Y, object], [B, Y, X, object], [B])
     = [C, A, B] + merge([X, Y, object], [Y, X, object])
</code></pre></div></div>
<p>到了最后一步我们没有办法继续计算下去 了：<code class="language-plaintext highlighter-rouge">X</code> 虽然是第一个列表的头，但是它出现在了第二个列表的尾部；<code class="language-plaintext highlighter-rouge">Y</code> 虽然是第二个列表的头，但是它出现在了第一个列表的尾部。因此，我们无法构建一个没有二义性的继承关系，只能手工去解决（比如改变 <code class="language-plaintext highlighter-rouge">B</code> 基类中 <code class="language-plaintext highlighter-rouge">X</code>、<code class="language-plaintext highlighter-rouge">Y</code> 的顺序）。</p>
<p>我们再看一个没有冲突的例子：</p>
<figure>
 <img src=data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8IS0tIEdlbmVyYXRlZCBieSBncmFwaHZpeiB2ZXJzaW9uIDIuMzAuMSAoMjAxMzAyMTguMDMyMCkKIC0tPgo8IS0tIFRpdGxlOiAlMyBQYWdlczogMSAtLT4KPHN2ZyB3aWR0aD0iMjA2cHQiIGhlaWdodD0iMjY3cHQiCiB2aWV3Qm94PSIwLjAwIDAuMDAgMjA2LjAwIDI2Ny4wMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CjxnIGlkPSJncmFwaDAiIGNsYXNzPSJncmFwaCIgdHJhbnNmb3JtPSJzY2FsZSgxIDEpIHJvdGF0ZSgwKSB0cmFuc2xhdGUoNCAyNjMpIj4KPHRpdGxlPiUzPC90aXRsZT4KPHBvbHlnb24gZmlsbD0id2hpdGUiIHN0cm9rZT0id2hpdGUiIHBvaW50cz0iLTQsNSAtNCwtMjYzIDIwMywtMjYzIDIwMyw1IC00LDUiLz4KPCEtLSBvYmplY3QgLS0+CjxnIGlkPSJub2RlMSIgY2xhc3M9Im5vZGUiPjx0aXRsZT5vYmplY3Q8L3RpdGxlPgo8cG9seWdvbiBmaWxsPSIjZjJmMmYyIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjcyLC0yMjIuNSA3MiwtMjU4LjUgMTI2LC0yNTguNSAxMjYsLTIyMi41IDcyLC0yMjIuNSIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI5OC42MDM1IiB5PSItMjM0LjkiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+b2JqZWN0PC90ZXh0Pgo8L2c+CjwhLS0gRCAtLT4KPGcgaWQ9Im5vZGUyIiBjbGFzcz0ibm9kZSI+PHRpdGxlPkQ8L3RpdGxlPgo8cG9seWdvbiBmaWxsPSIjZjJmMmYyIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjAsLTE0OC41IDAsLTE4NC41IDU0LC0xODQuNSA1NCwtMTQ4LjUgMCwtMTQ4LjUiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMjYuNTU1MiIgeT0iLTE2MC45IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiPkQ8L3RleHQ+CjwvZz4KPCEtLSBvYmplY3QmIzQ1OyZndDtEIC0tPgo8ZyBpZD0iZWRnZTEiIGNsYXNzPSJlZGdlIj48dGl0bGU+b2JqZWN0JiM0NTsmZ3Q7RDwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik03NC4wNjI4LC0yMTQuODdDNjQuMzUzNiwtMjA0Ljg5MSA1My40NTUzLC0xOTMuNjkgNDQuNTkzLC0xODQuNTgyIi8+Cjxwb2x5Z29uIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNzEuNzIwMSwtMjE3LjQ4MSA4MS4yMDIyLC0yMjIuMjA4IDc2LjczNzIsLTIxMi42IDcxLjcyMDEsLTIxNy40ODEiLz4KPC9nPgo8IS0tIEUgLS0+CjxnIGlkPSJub2RlMyIgY2xhc3M9Im5vZGUiPjx0aXRsZT5FPC90aXRsZT4KPHBvbHlnb24gZmlsbD0iI2YyZjJmMiIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI3MiwtMTQ4LjUgNzIsLTE4NC41IDEyNiwtMTg0LjUgMTI2LC0xNDguNSA3MiwtMTQ4LjUiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iOTguNzc1OSIgeT0iLTE2MC45IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiPkU8L3RleHQ+CjwvZz4KPCEtLSBvYmplY3QmIzQ1OyZndDtFIC0tPgo8ZyBpZD0iZWRnZTQiIGNsYXNzPSJlZGdlIj48dGl0bGU+b2JqZWN0JiM0NTsmZ3Q7RTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik05OSwtMjEyLjIwMkM5OSwtMjAyLjkzMSA5OSwtMTkyLjg4NyA5OSwtMTg0LjU4MiIvPgo8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9Ijk1LjUwMDEsLTIxMi4yMDggOTksLTIyMi4yMDggMTAyLjUsLTIxMi4yMDggOTUuNTAwMSwtMjEyLjIwOCIvPgo8L2c+CjwhLS0gRiAtLT4KPGcgaWQ9Im5vZGU0IiBjbGFzcz0ibm9kZSI+PHRpdGxlPkY8L3RpdGxlPgo8cG9seWdvbiBmaWxsPSIjZjJmMmYyIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjE0NCwtMTQ4LjUgMTQ0LC0xODQuNSAxOTgsLTE4NC41IDE5OCwtMTQ4LjUgMTQ0LC0xNDguNSIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSIxNzAuODkzIiB5PSItMTYwLjkiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+RjwvdGV4dD4KPC9nPgo8IS0tIG9iamVjdCYjNDU7Jmd0O0YgLS0+CjxnIGlkPSJlZGdlNiIgY2xhc3M9ImVkZ2UiPjx0aXRsZT5vYmplY3QmIzQ1OyZndDtGPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTEyMy45MzcsLTIxNC44N0MxMzMuNjQ2LC0yMDQuODkxIDE0NC41NDUsLTE5My42OSAxNTMuNDA3LC0xODQuNTgyIi8+Cjxwb2x5Z29uIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iMTIxLjI2MywtMjEyLjYgMTE2Ljc5OCwtMjIyLjIwOCAxMjYuMjgsLTIxNy40ODEgMTIxLjI2MywtMjEyLjYiLz4KPC9nPgo8IS0tIEIgLS0+CjxnIGlkPSJub2RlNSIgY2xhc3M9Im5vZGUiPjx0aXRsZT5CPC90aXRsZT4KPHBvbHlnb24gZmlsbD0iI2YyZjJmMiIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIzNiwtNzQuNSAzNiwtMTEwLjUgOTAsLTExMC41IDkwLC03NC41IDM2LC03NC41Ii8+Cjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjYyLjY2ODkiIHk9Ii04Ni45IiBmb250LWZhbWlseT0iVGltZXMsc2VyaWYiIGZvbnQtc2l6ZT0iMTQuMDAiPkI8L3RleHQ+CjwvZz4KPCEtLSBEJiM0NTsmZ3Q7QiAtLT4KPGcgaWQ9ImVkZ2UyIiBjbGFzcz0iZWRnZSI+PHRpdGxlPkQmIzQ1OyZndDtCPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTQwLjMzMTEsLTEzOS4wOTdDNDQuOTYwNywtMTI5LjU4MSA1MC4wMzMsLTExOS4xNTQgNTQuMjAzNSwtMTEwLjU4MiIvPgo8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBwb2ludHM9IjM3LjEyNjMsLTEzNy42ODQgMzUuODk4OSwtMTQ4LjIwOCA0My40MjA5LC0xNDAuNzQ3IDM3LjEyNjMsLTEzNy42ODQiLz4KPC9nPgo8IS0tIEMgLS0+CjxnIGlkPSJub2RlNyIgY2xhc3M9Im5vZGUiPjx0aXRsZT5DPC90aXRsZT4KPHBvbHlnb24gZmlsbD0iI2YyZjJmMiIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIxMDgsLTc0LjUgMTA4LC0xMTAuNSAxNjIsLTExMC41IDE2MiwtNzQuNSAxMDgsLTc0LjUiLz4KPHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMTM0LjY2OSIgeT0iLTg2LjkiIGZvbnQtZmFtaWx5PSJUaW1lcyxzZXJpZiIgZm9udC1zaXplPSIxNC4wMCI+QzwvdGV4dD4KPC9nPgo8IS0tIEQmIzQ1OyZndDtDIC0tPgo8ZyBpZD0iZWRnZTkiIGNsYXNzPSJlZGdlIj48dGl0bGU+RCYjNDU7Jmd0O0M8L3RpdGxlPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImJsYWNrIiBkPSJNNjIuMDA0NiwtMTQyLjUxNUM3Ny4xMDMxLC0xMzIuMTcgOTQuNDcyMSwtMTIwLjI2OSAxMDguNDc5LC0xMTAuNjcyIi8+Cjxwb2x5Z29uIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNTkuNjkwOCwtMTM5Ljg1OCA1My40MTk4LC0xNDguMzk4IDYzLjY0NzQsLTE0NS42MzIgNTkuNjkwOCwtMTM5Ljg1OCIvPgo8L2c+CjwhLS0gRSYjNDU7Jmd0O0IgLS0+CjxnIGlkPSJlZGdlNSIgY2xhc3M9ImVkZ2UiPjx0aXRsZT5FJiM0NTsmZ3Q7QjwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik04NS42Njg5LC0xMzkuMDk3QzgxLjAzOTMsLTEyOS41ODEgNzUuOTY3LC0xMTkuMTU0IDcxLjc5NjUsLTExMC41ODIiLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI4Mi41NzkxLC0xNDAuNzQ3IDkwLjEwMTEsLTE0OC4yMDggODguODczNywtMTM3LjY4NCA4Mi41NzkxLC0xNDAuNzQ3Ii8+CjwvZz4KPCEtLSBGJiM0NTsmZ3Q7QyAtLT4KPGcgaWQ9ImVkZ2U3IiBjbGFzcz0iZWRnZSI+PHRpdGxlPkYmIzQ1OyZndDtDPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTE1Ny42NjksLTEzOS4wOTdDMTUzLjAzOSwtMTI5LjU4MSAxNDcuOTY3LC0xMTkuMTU0IDE0My43OTcsLTExMC41ODIiLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIxNTQuNTc5LC0xNDAuNzQ3IDE2Mi4xMDEsLTE0OC4yMDggMTYwLjg3NCwtMTM3LjY4NCAxNTQuNTc5LC0xNDAuNzQ3Ii8+CjwvZz4KPCEtLSBBIC0tPgo8ZyBpZD0ibm9kZTYiIGNsYXNzPSJub2RlIj48dGl0bGU+QTwvdGl0bGU+Cjxwb2x5Z29uIGZpbGw9IiNmMmYyZjIiIHN0cm9rZT0iYmxhY2siIHBvaW50cz0iNzIsLTAuNSA3MiwtMzYuNSAxMjYsLTM2LjUgMTI2LC0wLjUgNzIsLTAuNSIvPgo8dGV4dCB0ZXh0LWFuY2hvcj0ibWlkZGxlIiB4PSI5OC41NTUyIiB5PSItMTIuOSIgZm9udC1mYW1pbHk9IlRpbWVzLHNlcmlmIiBmb250LXNpemU9IjE0LjAwIj5BPC90ZXh0Pgo8L2c+CjwhLS0gQiYjNDU7Jmd0O0EgLS0+CjxnIGlkPSJlZGdlMyIgY2xhc3M9ImVkZ2UiPjx0aXRsZT5CJiM0NTsmZ3Q7QTwvdGl0bGU+CjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iYmxhY2siIGQ9Ik03Ni4zMzExLC02NS4wOTcxQzgwLjk2MDcsLTU1LjU4MDcgODYuMDMzLC00NS4xNTQ0IDkwLjIwMzUsLTM2LjU4MTciLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSI3My4xMjYzLC02My42ODQ0IDcxLjg5ODksLTc0LjIwNzkgNzkuNDIwOSwtNjYuNzQ2NiA3My4xMjYzLC02My42ODQ0Ii8+CjwvZz4KPCEtLSBDJiM0NTsmZ3Q7QSAtLT4KPGcgaWQ9ImVkZ2U4IiBjbGFzcz0iZWRnZSI+PHRpdGxlPkMmIzQ1OyZndDtBPC90aXRsZT4KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgZD0iTTEyMS42NjksLTY1LjA5NzFDMTE3LjAzOSwtNTUuNTgwNyAxMTEuOTY3LC00NS4xNTQ0IDEwNy43OTcsLTM2LjU4MTciLz4KPHBvbHlnb24gZmlsbD0ibm9uZSIgc3Ryb2tlPSJibGFjayIgcG9pbnRzPSIxMTguNTc5LC02Ni43NDY2IDEyNi4xMDEsLTc0LjIwNzkgMTI0Ljg3NCwtNjMuNjg0NCAxMTguNTc5LC02Ni43NDY2Ii8+CjwvZz4KPC9nPgo8L3N2Zz4K alt=C3例子>
 <figcaption>C3例子</figcaption>
</figure>
<p>计算过程如下：</p>
<div class="language-plaintext highlighter-rouge"><div class=highlight><pre class=highlight><code>L[object] = [object]
L[D] = [D, object]
L[E] = [E, object]
L[F] = [F, object]
L[B] = [B, D, E, object]
L[C] = [C, D, F, object]
L[A] = [A] + merge(L[B], L[C], [B], [C])
     = [A] + merge([B, D, E, object], [C, D, F, object], [B], [C])
     = [A, B] + merge([D, E, object], [C, D, F, object], [C])
     = [A, B, C] + merge([D, E, object], [D, F, object])
     = [A, B, C, D] + merge([E, object], [F, object])
     = [A, B, C, D, E] + merge([object], [F, object])
     = [A, B, C, D, E, F] + merge([object], [object])
     = [A, B, C, D, E, F, object]
</code></pre></div></div>
<p>当然，可以用代码验证类的 MRO，上面的例子可以写作：</p>
<pre><code class=language-pycon>&gt;&gt;&gt; class D(object): pass
&gt;&gt;&gt; class E(object): pass
&gt;&gt;&gt; class F(object): pass
&gt;&gt;&gt; class B(D, E): pass
&gt;&gt;&gt; class C(D, F): pass
&gt;&gt;&gt; class A(B, C): pass
&gt;&gt;&gt; A.__mro__
(&lt;class '__main__.A'&gt;, &lt;class '__main__.B'&gt;, &lt;class '__main__.C'&gt;, &lt;class '__main__.D'&gt;, &lt;class '__main__.E'&gt;, &lt;class '__main__.F'&gt;, &lt;type 'object'&gt;)
</code></pre>
 </article>
 <aside class=comments>
 <div id=disqus_thread></div>
 </aside>
 
</div>
 </main>
 <footer>
 © 2020 Jianwei Han.
 <a href=https://github.com/hanjianwei/hanjianwei.github.io><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 640 512"><path d="M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"></path></svg></a>
 <a href=https://github.com/hanjianwei><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg></a>
 <a href=https://twitter.com/hanjianwei><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a>
 <a href=mailto:blog@hanjianwei.com><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 512 512"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg></a>
 <a href=https://hanjianwei.com/feed.xml><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512"><path d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"></path></svg></a>
 </footer>
 </div>
 
